'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.VGenerateText = exports.VErrors = exports.VOb = exports.Tense = undefined;

var _Person = require('./Person');

var _Person2 = _interopRequireDefault(_Person);

var _SchemaConstants = require('./SchemaConstants');

var _SchemaConstants2 = _interopRequireDefault(_SchemaConstants);

var _VDict = require('./VDict');

var _VDict2 = _interopRequireDefault(_VDict);

var _Plurality = require('../pos/Plurality');

var _Plurality2 = _interopRequireDefault(_Plurality);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function VOb(props) {
	this.t = _SchemaConstants2.default.V.t;
	this.v = _SchemaConstants2.default.V.cv;

	if ('base' in props && props.base in _VDict2.default) {
		var n = _VDict2.default[props.base];
		this.inf = n.inf;
	} else {
		this.inf = props.inf || [];
	}
	this.continuous = props.continuous || false;
	this.passive = props.passive || false;
	this.perfect = props.perfect || false;
	this.person = props.person || _Person2.default.NoneSelected;
	this.plurality = props.plurality || _Plurality2.default.NoneSelected;
	this.tense = props.tense || Tense.Present;
}

var VErrors = {
	'REQUESTED_INFLECTION_UNDEFINED': 'The requested inflection is undefined for this noun.'
};

var Tense = {
	'NoneSelected': 0,
	'Past': 100,
	'Present': 200
};

var VGenerateText = function VGenerateText(vob) {

	var retVal = void 0;

	var key_1 = void 0;
	var key_2 = void 0;

	if (vob.perfect || vob.passive) {
		// p77 past participle used if perfect or passive
		key_1 = 4; // past participle
	} else if (vob.tense === Tense.Present) {
		key_1 = 1;
		key_2 = vob.person === _Person2.default.Third && vob.plurality === _Plurality2.default.Singular ? 0 : 1;
	}

	try {
		retVal = vob.inf[key_1][key_2];
	} catch (e) {
		retVal = { e: VErrors.REQUESTED_INFLECTION_UNDEFINED };
	}
	return retVal;
};

exports.Tense = Tense;
exports.VOb = VOb;
exports.VErrors = VErrors;
exports.VGenerateText = VGenerateText;

/*

 In order to access the value of a particular inflection, we must 

 preterite = 0
 present tense = 1

 plain form = 2 imperative, subjunctal, infinitival
 gerund participle aka present participle = 3
 past participle = 4

 3rd sg = 0
 plain = 1
 */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9WLmpzIl0sIm5hbWVzIjpbIlZPYiIsInByb3BzIiwidCIsIlYiLCJ2IiwiY3YiLCJiYXNlIiwibiIsImluZiIsImNvbnRpbnVvdXMiLCJwYXNzaXZlIiwicGVyZmVjdCIsInBlcnNvbiIsIk5vbmVTZWxlY3RlZCIsInBsdXJhbGl0eSIsInRlbnNlIiwiVGVuc2UiLCJQcmVzZW50IiwiVkVycm9ycyIsIlZHZW5lcmF0ZVRleHQiLCJ2b2IiLCJyZXRWYWwiLCJrZXlfMSIsImtleV8yIiwiVGhpcmQiLCJTaW5ndWxhciIsImUiLCJSRVFVRVNURURfSU5GTEVDVElPTl9VTkRFRklORUQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0EsR0FBVCxDQUFhQyxLQUFiLEVBQW9CO0FBQ25CLE1BQUtDLENBQUwsR0FBUywwQkFBT0MsQ0FBUCxDQUFTRCxDQUFsQjtBQUNBLE1BQUtFLENBQUwsR0FBUywwQkFBT0QsQ0FBUCxDQUFTRSxFQUFsQjs7QUFFQSxLQUFJLFVBQVVKLEtBQVYsSUFBbUJBLE1BQU1LLElBQU4sbUJBQXZCLEVBQThDO0FBQzdDLE1BQU1DLElBQUksZ0JBQVFOLE1BQU1LLElBQWQsQ0FBVjtBQUNBLE9BQUtFLEdBQUwsR0FBY0QsRUFBRUMsR0FBaEI7QUFDQSxFQUhELE1BR087QUFDTixPQUFLQSxHQUFMLEdBQWNQLE1BQU1PLEdBQU4sSUFBYSxFQUEzQjtBQUNBO0FBQ0QsTUFBS0MsVUFBTCxHQUFrQlIsTUFBTVEsVUFBTixJQUFvQixLQUF0QztBQUNBLE1BQUtDLE9BQUwsR0FBa0JULE1BQU1TLE9BQU4sSUFBaUIsS0FBbkM7QUFDQSxNQUFLQyxPQUFMLEdBQWtCVixNQUFNVSxPQUFOLElBQWlCLEtBQW5DO0FBQ0EsTUFBS0MsTUFBTCxHQUFrQlgsTUFBTVcsTUFBTixJQUFpQixpQkFBT0MsWUFBMUM7QUFDQSxNQUFLQyxTQUFMLEdBQWtCYixNQUFNYSxTQUFOLElBQW9CLG9CQUFVRCxZQUFoRDtBQUNBLE1BQUtFLEtBQUwsR0FBa0JkLE1BQU1jLEtBQU4sSUFBaUJDLE1BQU1DLE9BQXpDO0FBQ0E7O0FBRUQsSUFBTUMsVUFBVTtBQUNmLG1DQUFpQztBQURsQixDQUFoQjs7QUFJQSxJQUFNRixRQUFRO0FBQ2IsaUJBQWUsQ0FERjtBQUViLFNBQWEsR0FGQTtBQUdiLFlBQWE7QUFIQSxDQUFkOztBQU1BLElBQU1HLGdCQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ0MsR0FBRCxFQUFTOztBQUU5QixLQUFJQyxlQUFKOztBQUVBLEtBQUlDLGNBQUo7QUFDQSxLQUFJQyxjQUFKOztBQUVBLEtBQUdILElBQUlULE9BQUosSUFBZVMsSUFBSVYsT0FBdEIsRUFBK0I7QUFBRTtBQUNoQ1ksVUFBUSxDQUFSLENBRDhCLENBQ3BCO0FBQ1YsRUFGRCxNQUlLLElBQUdGLElBQUlMLEtBQUosS0FBY0MsTUFBTUMsT0FBdkIsRUFBZ0M7QUFDcENLLFVBQVEsQ0FBUjtBQUNBQyxVQUFTSCxJQUFJUixNQUFKLEtBQWUsaUJBQU9ZLEtBQXRCLElBQStCSixJQUFJTixTQUFKLEtBQWtCLG9CQUFVVyxRQUE1RCxHQUF3RSxDQUF4RSxHQUE0RSxDQUFwRjtBQUNBOztBQUVELEtBQUk7QUFDSEosV0FBU0QsSUFBSVosR0FBSixDQUFRYyxLQUFSLEVBQWVDLEtBQWYsQ0FBVDtBQUNBLEVBRkQsQ0FFRSxPQUFNRyxDQUFOLEVBQVM7QUFDVkwsV0FBUyxFQUFDSyxHQUFFUixRQUFRUyw4QkFBWCxFQUFUO0FBQ0E7QUFDRCxRQUFPTixNQUFQO0FBQ0EsQ0F0QkQ7O1FBd0JRTCxLLEdBQUFBLEs7UUFDQWhCLEcsR0FBQUEsRztRQUNBa0IsTyxHQUFBQSxPO1FBQ0FDLGEsR0FBQUEsYTs7QUFFUiIsImZpbGUiOiJWLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBlcnNvbiAgICBmcm9tICcuL1BlcnNvbidcbmltcG9ydCBTY2hlbWEgICAgZnJvbSAnLi9TY2hlbWFDb25zdGFudHMnXG5pbXBvcnQgVkRpY3RPYiAgIGZyb20gJy4vVkRpY3QnXG5pbXBvcnQgUGx1cmFsaXR5IGZyb20gJy4uL3Bvcy9QbHVyYWxpdHknXG5cbmZ1bmN0aW9uIFZPYihwcm9wcykge1xuXHR0aGlzLnQgPSBTY2hlbWEuVi50XG5cdHRoaXMudiA9IFNjaGVtYS5WLmN2XG5cblx0aWYgKCdiYXNlJyBpbiBwcm9wcyAmJiBwcm9wcy5iYXNlIGluIFZEaWN0T2IpIHtcblx0XHRjb25zdCBuID0gVkRpY3RPYltwcm9wcy5iYXNlXVxuXHRcdHRoaXMuaW5mICAgID0gbi5pbmZcblx0fSBlbHNlIHtcblx0XHR0aGlzLmluZiAgICA9IHByb3BzLmluZiB8fCBbXVxuXHR9XG5cdHRoaXMuY29udGludW91cyA9IHByb3BzLmNvbnRpbnVvdXMgfHwgZmFsc2Vcblx0dGhpcy5wYXNzaXZlICAgID0gcHJvcHMucGFzc2l2ZSB8fCBmYWxzZVxuXHR0aGlzLnBlcmZlY3QgICAgPSBwcm9wcy5wZXJmZWN0IHx8IGZhbHNlXG5cdHRoaXMucGVyc29uICAgICA9IHByb3BzLnBlcnNvbiAgfHwgUGVyc29uLk5vbmVTZWxlY3RlZFxuXHR0aGlzLnBsdXJhbGl0eSAgPSBwcm9wcy5wbHVyYWxpdHkgIHx8IFBsdXJhbGl0eS5Ob25lU2VsZWN0ZWRcblx0dGhpcy50ZW5zZSAgICAgID0gcHJvcHMudGVuc2UgICB8fCBUZW5zZS5QcmVzZW50XG59XG5cbmNvbnN0IFZFcnJvcnMgPSB7XG5cdCdSRVFVRVNURURfSU5GTEVDVElPTl9VTkRFRklORUQnOidUaGUgcmVxdWVzdGVkIGluZmxlY3Rpb24gaXMgdW5kZWZpbmVkIGZvciB0aGlzIG5vdW4uJ1xufVxuXG5jb25zdCBUZW5zZSA9IHtcblx0J05vbmVTZWxlY3RlZCc6MCxcblx0J1Bhc3QnOiAgICAgIDEwMCxcblx0J1ByZXNlbnQnOiAgIDIwMCxcbn1cblxuY29uc3QgVkdlbmVyYXRlVGV4dCA9ICh2b2IpID0+IHtcblxuXHRsZXQgcmV0VmFsXG5cblx0bGV0IGtleV8xXG5cdGxldCBrZXlfMlxuXG5cdGlmKHZvYi5wZXJmZWN0IHx8IHZvYi5wYXNzaXZlKSB7IC8vIHA3NyBwYXN0IHBhcnRpY2lwbGUgdXNlZCBpZiBwZXJmZWN0IG9yIHBhc3NpdmVcblx0XHRrZXlfMSA9IDQgLy8gcGFzdCBwYXJ0aWNpcGxlXG5cdH1cblxuXHRlbHNlIGlmKHZvYi50ZW5zZSA9PT0gVGVuc2UuUHJlc2VudCkge1xuXHRcdGtleV8xID0gMVxuXHRcdGtleV8yID0gKHZvYi5wZXJzb24gPT09IFBlcnNvbi5UaGlyZCAmJiB2b2IucGx1cmFsaXR5ID09PSBQbHVyYWxpdHkuU2luZ3VsYXIpID8gMCA6IDFcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0VmFsID0gdm9iLmluZltrZXlfMV1ba2V5XzJdXG5cdH0gY2F0Y2goZSkge1xuXHRcdHJldFZhbCA9IHtlOlZFcnJvcnMuUkVRVUVTVEVEX0lORkxFQ1RJT05fVU5ERUZJTkVEfVxuXHR9XG5cdHJldHVybiByZXRWYWxcbn1cblxuZXhwb3J0IHtUZW5zZX1cbmV4cG9ydCB7Vk9ifVxuZXhwb3J0IHtWRXJyb3JzfVxuZXhwb3J0IHtWR2VuZXJhdGVUZXh0fVxuXG4vKlxuXG4gSW4gb3JkZXIgdG8gYWNjZXNzIHRoZSB2YWx1ZSBvZiBhIHBhcnRpY3VsYXIgaW5mbGVjdGlvbiwgd2UgbXVzdCBcblxuIHByZXRlcml0ZSA9IDBcbiBwcmVzZW50IHRlbnNlID0gMVxuXG4gcGxhaW4gZm9ybSA9IDIgaW1wZXJhdGl2ZSwgc3VianVuY3RhbCwgaW5maW5pdGl2YWxcbiBnZXJ1bmQgcGFydGljaXBsZSBha2EgcHJlc2VudCBwYXJ0aWNpcGxlID0gM1xuIHBhc3QgcGFydGljaXBsZSA9IDRcblxuIDNyZCBzZyA9IDBcbiBwbGFpbiA9IDFcbiAqLyJdfQ==