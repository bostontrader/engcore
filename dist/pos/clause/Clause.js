'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ClauseErrors = undefined;

var _POS = require('../POS');

var _POS2 = _interopRequireDefault(_POS);

var _SchemaConstants = require('../SchemaConstants');

var _SchemaConstants2 = _interopRequireDefault(_SchemaConstants);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Clause(props) {
	this.t = _SchemaConstants2.default.Clause.t;
	this.v = _SchemaConstants2.default.Clause.cv;

	// p50 the head of a clause, aka the predicate is a VP
	if (props) {
		if ('head' in props) this.head = props.head;
		if ('subject' in props) this.subject = props.subject;
	}
}

Clause.prototype = Object.create(new _POS2.default());

var ClauseErrors = {
	'MISSING_HEAD': 'This clause must have a head, aka predicate.',
	'MISSING_SUBJECT': 'This clause must have a subject.'
};

Clause.prototype.analyse = function () {

	if (!('head' in this)) return { t: undefined, e: [ClauseErrors.MISSING_HEAD] };

	if (!('subject' in this)) return { t: undefined, e: [ClauseErrors.MISSING_SUBJECT] };

	var retVal = this.subject.analyse().t + ' ' + this.head.analyse().t;
	return { t: retVal, e: [] };
};

exports.default = Clause;
exports.ClauseErrors = ClauseErrors;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wb3MvY2xhdXNlL0NsYXVzZS5qcyJdLCJuYW1lcyI6WyJDbGF1c2UiLCJwcm9wcyIsInQiLCJ2IiwiY3YiLCJoZWFkIiwic3ViamVjdCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsIkNsYXVzZUVycm9ycyIsImFuYWx5c2UiLCJ1bmRlZmluZWQiLCJlIiwiTUlTU0lOR19IRUFEIiwiTUlTU0lOR19TVUJKRUNUIiwicmV0VmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsU0FBU0EsTUFBVCxDQUFnQkMsS0FBaEIsRUFBdUI7QUFDdEIsTUFBS0MsQ0FBTCxHQUFTLDBCQUFPRixNQUFQLENBQWNFLENBQXZCO0FBQ0EsTUFBS0MsQ0FBTCxHQUFTLDBCQUFPSCxNQUFQLENBQWNJLEVBQXZCOztBQUVBO0FBQ0EsS0FBR0gsS0FBSCxFQUFVO0FBQ1QsTUFBRyxVQUFVQSxLQUFiLEVBQ0MsS0FBS0ksSUFBTCxHQUFZSixNQUFNSSxJQUFsQjtBQUNELE1BQUcsYUFBYUosS0FBaEIsRUFDQyxLQUFLSyxPQUFMLEdBQWVMLE1BQU1LLE9BQXJCO0FBQ0Q7QUFDRDs7QUFFRE4sT0FBT08sU0FBUCxHQUFtQkMsT0FBT0MsTUFBUCxDQUFjLG1CQUFkLENBQW5COztBQUVBLElBQU1DLGVBQWU7QUFDcEIsaUJBQWUsOENBREs7QUFFcEIsb0JBQWtCO0FBRkUsQ0FBckI7O0FBS0FWLE9BQU9PLFNBQVAsQ0FBaUJJLE9BQWpCLEdBQTJCLFlBQVc7O0FBRXJDLEtBQUcsRUFBRSxVQUFVLElBQVosQ0FBSCxFQUNDLE9BQU8sRUFBQ1QsR0FBRVUsU0FBSCxFQUFjQyxHQUFFLENBQUNILGFBQWFJLFlBQWQsQ0FBaEIsRUFBUDs7QUFFRCxLQUFHLEVBQUUsYUFBYSxJQUFmLENBQUgsRUFDQyxPQUFPLEVBQUNaLEdBQUVVLFNBQUgsRUFBY0MsR0FBRSxDQUFDSCxhQUFhSyxlQUFkLENBQWhCLEVBQVA7O0FBRUQsS0FBSUMsU0FBUyxLQUFLVixPQUFMLENBQWFLLE9BQWIsR0FBdUJULENBQXZCLEdBQTJCLEdBQTNCLEdBQWlDLEtBQUtHLElBQUwsQ0FBVU0sT0FBVixHQUFvQlQsQ0FBbEU7QUFDQSxRQUFPLEVBQUNBLEdBQUVjLE1BQUgsRUFBV0gsR0FBRSxFQUFiLEVBQVA7QUFFQSxDQVhEOztrQkFhZWIsTTtRQUNQVSxZLEdBQUFBLFkiLCJmaWxlIjoiQ2xhdXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBPUyAgICBmcm9tICcuLi9QT1MnXG5pbXBvcnQgU2NoZW1hIGZyb20gJy4uL1NjaGVtYUNvbnN0YW50cydcblxuZnVuY3Rpb24gQ2xhdXNlKHByb3BzKSB7XG5cdHRoaXMudCA9IFNjaGVtYS5DbGF1c2UudFxuXHR0aGlzLnYgPSBTY2hlbWEuQ2xhdXNlLmN2XG5cblx0Ly8gcDUwIHRoZSBoZWFkIG9mIGEgY2xhdXNlLCBha2EgdGhlIHByZWRpY2F0ZSBpcyBhIFZQXG5cdGlmKHByb3BzKSB7XG5cdFx0aWYoJ2hlYWQnIGluIHByb3BzKVxuXHRcdFx0dGhpcy5oZWFkID0gcHJvcHMuaGVhZFxuXHRcdGlmKCdzdWJqZWN0JyBpbiBwcm9wcylcblx0XHRcdHRoaXMuc3ViamVjdCA9IHByb3BzLnN1YmplY3Rcblx0fVxufVxuXG5DbGF1c2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShuZXcgUE9TKCkpXG5cbmNvbnN0IENsYXVzZUVycm9ycyA9IHtcblx0J01JU1NJTkdfSEVBRCc6J1RoaXMgY2xhdXNlIG11c3QgaGF2ZSBhIGhlYWQsIGFrYSBwcmVkaWNhdGUuJyxcblx0J01JU1NJTkdfU1VCSkVDVCc6J1RoaXMgY2xhdXNlIG11c3QgaGF2ZSBhIHN1YmplY3QuJ1xufVxuXG5DbGF1c2UucHJvdG90eXBlLmFuYWx5c2UgPSBmdW5jdGlvbigpIHtcblxuXHRpZighKCdoZWFkJyBpbiB0aGlzKSlcblx0XHRyZXR1cm4ge3Q6dW5kZWZpbmVkLCBlOltDbGF1c2VFcnJvcnMuTUlTU0lOR19IRUFEXX1cblxuXHRpZighKCdzdWJqZWN0JyBpbiB0aGlzKSlcblx0XHRyZXR1cm4ge3Q6dW5kZWZpbmVkLCBlOltDbGF1c2VFcnJvcnMuTUlTU0lOR19TVUJKRUNUXX1cblxuXHRsZXQgcmV0VmFsID0gdGhpcy5zdWJqZWN0LmFuYWx5c2UoKS50ICsgJyAnICsgdGhpcy5oZWFkLmFuYWx5c2UoKS50XG5cdHJldHVybiB7dDpyZXRWYWwsIGU6W119XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2xhdXNlXG5leHBvcnQge0NsYXVzZUVycm9yc31cbiJdfQ==